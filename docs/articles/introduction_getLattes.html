<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Introduction to getLattes • getLattes</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Introduction to getLattes">
<meta property="og:description" content="getLattes">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">getLattes</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/introduction_getLattes.html">Introduction to getLattes</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/roneyfraga/getLattes/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="introduction_getLattes_files/header-attrs-2.1/header-attrs.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Introduction to getLattes</h1>
                        <h4 class="author">Roney Fraga Souza</h4>
            
            <h4 class="date">2020-05-10</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/roneyfraga/getLattes/blob/master/vignettes/introduction_getLattes.Rmd"><code>vignettes/introduction_getLattes.Rmd</code></a></small>
      <div class="hidden name"><code>introduction_getLattes.Rmd</code></div>

    </div>

    
    
<!--
Opções no chunk

eval        incluir o resultado do código executado, pode ser logico ou numérico
echo        mostrar o código 
warning     mostrar mensagens de aviso
error       mostrar mensagens de erro
message     mostrar mensagens
tidy        mostrar ajustar o código ao display, ignora identação
comment     '##' ou qq símbolo, para os resultados dos códigos serem antecedidos por ##
include     se falso, executa mas não inclui o chunk no relatório
-->
<p>The <a href="http://lattes.cnpq.br/">Lattes</a> platform has been hosting curricula of Brazilian researchers since the late 1990s, containing more than 5 million curricula. The data from the Lattes curricula can be downloaded to <code>XML</code> format, the complexity of this reading process motivated the development of the <code>getLattes</code> package, which imports the information from the <code>XML</code> files to a list in the <code>R</code> software and then tabulates the Lattes data to a <code>data.frame</code>.</p>
<p>The main information contained in <code>XML</code> files, and imported via <code>getLattes</code>, are:</p>
<ul>
<li>Academics Papers Presentation <code>getApresentacaoTrabalho</code><br>
</li>
<li>Research Area <code>getAreasAtuacao</code><br>
</li>
<li>Published Papers <code>getArtigosPublicados</code><br>
</li>
<li>Profissional Links <code>getAtuacoesProfissionais</code><br>
</li>
<li>Ph.D. Examination Board’s <code>getBancasDoutorado</code><br>
</li>
<li>Undergraduate Examination Board’s <code>getBancasGraduacao</code><br>
</li>
<li>General Examination Board’s <code>getBancasJulgadoras</code><br>
</li>
<li>Master Examination Board’s <code>getBancasMestrado</code><br>
</li>
<li>Books Chapters <code>getCapitulosLivros</code><br>
</li>
<li>Short Duration Course <code>getCursoCurtaDuracao</code>
</li>
<li>General Data <code>getDadosGerais</code><br>
</li>
<li>Profissional Address <code>getEnderecoProfissional</code><br>
</li>
<li>Events and Congresses <code>getEventosCongressos</code><br>
</li>
<li>Profissional Formation <code>getFormacao</code><br>
</li>
<li>Languages <code>getIdiomas</code><br>
</li>
<li>Newspapers and Magazines <code>getJornaisRevistas</code><br>
</li>
<li>Research Lines <code>getLinhaPesquisa</code><br>
</li>
<li>Published Books <code>getLivrosPublicados</code><br>
</li>
<li>Event’s Organization <code>getOrganizacaoEvento</code>
</li>
<li>Academic Advisory (Ph.D. Thesis) <code>getOrientacoesDoutorado</code><br>
</li>
<li>Academic Advisory (Master Thesis) <code>getOrientacoesMestrado</code><br>
</li>
<li>Academic Advisory (Other) <code>getOrientacoesOutras</code><br>
</li>
<li>Academic Advisory (Post Doctorate) <code>getOrientacoesPosDoutorado</code><br>
</li>
<li>Other Bibliographic Productions <code>getOutrasProducoesBibliograficas</code><br>
</li>
<li>Other Technical Productions <code>getOutrasProducoesTecnicas</code><br>
</li>
<li>Participation in Projects <code>getParticipacaoProjeto</code><br>
</li>
<li>Preface <code>getPrefacio</code><br>
</li>
<li>Awards and Medals <code>getPremiosTitulos</code><br>
</li>
<li>Technical Production <code>getProducaoTecnica</code><br>
</li>
<li>TV and Radio Program <code>getProgramaRadioTV</code><br>
</li>
<li>Research Report <code>getRelatorioPesquisa</code><br>
</li>
<li>Works in Event <code>getTrabalhosEventos</code>
</li>
</ul>
<p>From the functionalities presented in this package, the main challenge to work with the Lattes curriculum data is now to download the data, as there are Captchas. To download a lot of curricula I suggest the use of <a href="https://github.com/josefson/CNPQ">Captchas Negated by Python reQuests - CNPQ</a>. The second barrier to be overcome is the management and processing of a large volume of data, the whole Lattes platform in <code>XML</code> files totals over 200 GB. In this tutorial we will focus on the <code>getLattes</code> package features, being the reader responsible for download and manage the files.</p>
<p>Follow an example of how to search and download data from the <a href="http://lattes.cnpq.br/">Lattes</a> website.</p>
<p><img src="http://roneyfraga.com/volume/getLattes_data/lattes_xml_download.gif"></p>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p>To install the released version of getLattes from <a href="https://CRAN.R-project.org">github</a>.</p>
<div class="sourceCode" id="cb1"><html><body><pre class="r"><span class="co"># install and load devtools from CRAN</span>
<span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span>(<span class="st">"devtools"</span>)
<span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">devtools</span>)

<span class="co"># install and load getLattes</span>
<span class="kw pkg">devtools</span><span class="kw ns">::</span><span class="fu"><a href="https://devtools.r-lib.org//reference/remote-reexports.html">install_github</a></span>(<span class="st">"roneyfraga/getLattes"</span>)</pre></body></html></div>
<p>Load <code>getLattes</code>.</p>
<div class="sourceCode" id="cb2"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">getLattes</span>)

<span class="co"># support packages</span>
<span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">dplyr</span>)
<span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">tibble</span>)
<span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">pipeR</span>)</pre></body></html></div>
</div>
<div id="extract-xml-from-zip" class="section level2">
<h2 class="hasAnchor">
<a href="#extract-xml-from-zip" class="anchor"></a>Extract XML from zip</h2>
<p>The variable to merge the table extract from any <code>get</code> function is the <code>id</code> variable. The <code>id</code> is 16 digits, unique to each curriculum. However, it is important to rename the <code>.xml</code> file from <code>curriculo.xml</code> to <code>[16 digits id].xml</code>. As Lattes has many versions of <code>XML</code> structure, the more consistent way to extract <code>id</code> is from the file name.</p>
<div class="sourceCode" id="cb3"><html><body><pre class="r">
<span class="co"># the zip file(s) (is)are stored in datatest/</span>
<span class="co"># unzipLattes(filezip='2854855744345507.zip', path='datatest/')</span>
<span class="co"># unzipLattes(filezip='*.zip', path='datatest/')</span>

<span class="co"># the zip files are stored in the working directory</span>
<span class="fu"><a href="../reference/unzipLattes.html">unzipLattes</a></span>(<span class="kw">filezip</span><span class="kw">=</span><span class="st">'*.zip'</span>)</pre></body></html></div>
</div>
<div id="import-xml-curriculum-data" class="section level2">
<h2 class="hasAnchor">
<a href="#import-xml-curriculum-data" class="anchor"></a>Import XML curriculum data</h2>
<div class="sourceCode" id="cb4"><html><body><pre class="r">
<span class="co"># the file 4984859173592703.xml </span>
<span class="co"># cl &lt;- readLattes(filexml='4984859173592703.xml', path='datatest/')</span>

<span class="co"># import several files</span>
<span class="co"># cls &lt;- readLattes(filexml='*.xml$', path='datatest/')</span>

<span class="co"># import xml files from working directory</span>
<span class="no">cls</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/readLattes.html">readLattes</a></span>(<span class="kw">filexml</span><span class="kw">=</span><span class="st">'*.xml$'</span>)</pre></body></html></div>
<p>As example, 2 curricula data <code>xmlsLattes</code> imported as an R list.</p>
<div class="sourceCode" id="cb5"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/utils/data.html">data</a></span>(<span class="no">xmlsLattes</span>)
<span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span>(<span class="no">xmlsLattes</span>)
<span class="co">#&gt; [1] 2</span>
<span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span>(<span class="no">xmlsLattes</span><span class="kw">[[</span><span class="fl">1</span>]])
<span class="co">#&gt; [1] "DADOS-GERAIS"           "PRODUCAO-BIBLIOGRAFICA" "PRODUCAO-TECNICA"      </span>
<span class="co">#&gt; [4] "OUTRA-PRODUCAO"         "DADOS-COMPLEMENTARES"   ".attrs"                </span>
<span class="co">#&gt; [7] "id"</span></pre></body></html></div>
</div>
<div id="get-functions" class="section level2">
<h2 class="hasAnchor">
<a href="#get-functions" class="anchor"></a><code>get</code> functions</h2>
<p>To read data from only one curriculum any function <code>get</code> can be executed singly, to import data from two or more curricula is easier to use <code>get</code> functions with <code>lapply</code>.</p>
<div class="sourceCode" id="cb6"><html><body><pre class="r"><span class="co"># to import from one curriculum </span>
<span class="fu"><a href="../reference/getDadosGerais.html">getDadosGerais</a></span>(<span class="no">xmlsLattes</span><span class="kw">[[</span><span class="fl">1</span>]])
<span class="co">#&gt;             nome.completo</span>
<span class="co">#&gt; 1 Antonio Marcio Buainain</span>
<span class="co">#&gt;                                                                                         nome.em.citacoes.bibliograficas</span>
<span class="co">#&gt; 1 BUAINAIN, Antonio Marcio;Buainain, Antonio Márcio;Buainain, Antônio Márcio;BUAINAIN, ANTONIO;ANTONIO, MARCIO BUAINAIN</span>
<span class="co">#&gt;   nacionalidade pais.de.nascimento uf.nascimento cidade.nascimento</span>
<span class="co">#&gt; 1             B             Brasil            MS      Campo Grande</span>
<span class="co">#&gt;   permissao.de.divulgacao data.falecimento sigla.pais.nacionalidade</span>
<span class="co">#&gt; 1                     NAO                                       BRA</span>
<span class="co">#&gt;   pais.de.nacionalidade                              orcid.id               id</span>
<span class="co">#&gt; 1                Brasil https://orcid.org/0000-0002-1779-5589 3051627641386529</span>
<span class="co">#&gt;   data.atualizacao</span>
<span class="co">#&gt; 1         16042020</span></pre></body></html></div>
<p>Import general data from 2 curricula. The output is a list of data frames, converted by a unique data frame with <code>bind_rows</code>.</p>
<div class="sourceCode" id="cb7"><html><body><pre class="r"><span class="no">lt</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/lapply.html">lapply</a></span>(<span class="no">xmlsLattes</span>, <span class="no">getDadosGerais</span>)
<span class="no">lt</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/bind.html">bind_rows</a></span>(<span class="no">lt</span>)
<span class="fu"><a href="https://dplyr.tidyverse.org/reference/reexports.html">glimpse</a></span>(<span class="no">lt</span>)
<span class="co">#&gt; Rows: 2</span>
<span class="co">#&gt; Columns: 13</span>
<span class="co">#&gt; $ nome.completo                   &lt;chr&gt; "Antonio Marcio Buainain", "Jose Mari…</span>
<span class="co">#&gt; $ nome.em.citacoes.bibliograficas &lt;chr&gt; "BUAINAIN, Antonio Marcio;Buainain, A…</span>
<span class="co">#&gt; $ nacionalidade                   &lt;chr&gt; "B", "B"</span>
<span class="co">#&gt; $ pais.de.nascimento              &lt;chr&gt; "Brasil", "Brasil"</span>
<span class="co">#&gt; $ uf.nascimento                   &lt;chr&gt; "MS", "SP"</span>
<span class="co">#&gt; $ cidade.nascimento               &lt;chr&gt; "Campo Grande", "São Paulo"</span>
<span class="co">#&gt; $ permissao.de.divulgacao         &lt;chr&gt; "NAO", "NAO"</span>
<span class="co">#&gt; $ data.falecimento                &lt;chr&gt; "", ""</span>
<span class="co">#&gt; $ sigla.pais.nacionalidade        &lt;chr&gt; "BRA", "BRA"</span>
<span class="co">#&gt; $ pais.de.nacionalidade           &lt;chr&gt; "Brasil", "Brasil"</span>
<span class="co">#&gt; $ orcid.id                        &lt;chr&gt; "https://orcid.org/0000-0002-1779-558…</span>
<span class="co">#&gt; $ id                              &lt;chr&gt; "3051627641386529", "4984859173592703"</span>
<span class="co">#&gt; $ data.atualizacao                &lt;chr&gt; "16042020", "20032020"</span></pre></body></html></div>
<p>To write quickly, I will use pipe <code><a href="https://rdrr.io/pkg/pipeR/man/grapes-greater-than-greater-than-grapes.html">%&gt;&gt;%</a></code> from <code>pipeR</code> package.</p>
<div class="sourceCode" id="cb8"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/lapply.html">lapply</a></span>(<span class="no">xmlsLattes</span>, <span class="no">getDadosGerais</span>) <span class="kw">%&gt;&gt;%</span>
    <span class="no">bind_rows</span> <span class="kw">%&gt;&gt;%</span>
    <span class="no">glimpse</span>
<span class="co">#&gt; Rows: 2</span>
<span class="co">#&gt; Columns: 13</span>
<span class="co">#&gt; $ nome.completo                   &lt;chr&gt; "Antonio Marcio Buainain", "Jose Mari…</span>
<span class="co">#&gt; $ nome.em.citacoes.bibliograficas &lt;chr&gt; "BUAINAIN, Antonio Marcio;Buainain, A…</span>
<span class="co">#&gt; $ nacionalidade                   &lt;chr&gt; "B", "B"</span>
<span class="co">#&gt; $ pais.de.nascimento              &lt;chr&gt; "Brasil", "Brasil"</span>
<span class="co">#&gt; $ uf.nascimento                   &lt;chr&gt; "MS", "SP"</span>
<span class="co">#&gt; $ cidade.nascimento               &lt;chr&gt; "Campo Grande", "São Paulo"</span>
<span class="co">#&gt; $ permissao.de.divulgacao         &lt;chr&gt; "NAO", "NAO"</span>
<span class="co">#&gt; $ data.falecimento                &lt;chr&gt; "", ""</span>
<span class="co">#&gt; $ sigla.pais.nacionalidade        &lt;chr&gt; "BRA", "BRA"</span>
<span class="co">#&gt; $ pais.de.nacionalidade           &lt;chr&gt; "Brasil", "Brasil"</span>
<span class="co">#&gt; $ orcid.id                        &lt;chr&gt; "https://orcid.org/0000-0002-1779-558…</span>
<span class="co">#&gt; $ id                              &lt;chr&gt; "3051627641386529", "4984859173592703"</span>
<span class="co">#&gt; $ data.atualizacao                &lt;chr&gt; "16042020", "20032020"</span></pre></body></html></div>
<p>Where <code>. -&gt; res</code> means the result was saved to <code>res</code> object.</p>
<div class="sourceCode" id="cb9"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/lapply.html">lapply</a></span>(<span class="no">xmlsLattes</span>, <span class="no">getDadosGerais</span>) <span class="kw">%&gt;&gt;%</span>
    <span class="no">bind_rows</span> <span class="kw">%&gt;&gt;%</span>
    (<span class="no">.</span> <span class="kw">-&gt;</span> <span class="no">res</span>)

<span class="fu"><a href="https://dplyr.tidyverse.org/reference/reexports.html">glimpse</a></span>(<span class="no">res</span>)
<span class="co">#&gt; Rows: 2</span>
<span class="co">#&gt; Columns: 13</span>
<span class="co">#&gt; $ nome.completo                   &lt;chr&gt; "Antonio Marcio Buainain", "Jose Mari…</span>
<span class="co">#&gt; $ nome.em.citacoes.bibliograficas &lt;chr&gt; "BUAINAIN, Antonio Marcio;Buainain, A…</span>
<span class="co">#&gt; $ nacionalidade                   &lt;chr&gt; "B", "B"</span>
<span class="co">#&gt; $ pais.de.nascimento              &lt;chr&gt; "Brasil", "Brasil"</span>
<span class="co">#&gt; $ uf.nascimento                   &lt;chr&gt; "MS", "SP"</span>
<span class="co">#&gt; $ cidade.nascimento               &lt;chr&gt; "Campo Grande", "São Paulo"</span>
<span class="co">#&gt; $ permissao.de.divulgacao         &lt;chr&gt; "NAO", "NAO"</span>
<span class="co">#&gt; $ data.falecimento                &lt;chr&gt; "", ""</span>
<span class="co">#&gt; $ sigla.pais.nacionalidade        &lt;chr&gt; "BRA", "BRA"</span>
<span class="co">#&gt; $ pais.de.nacionalidade           &lt;chr&gt; "Brasil", "Brasil"</span>
<span class="co">#&gt; $ orcid.id                        &lt;chr&gt; "https://orcid.org/0000-0002-1779-558…</span>
<span class="co">#&gt; $ id                              &lt;chr&gt; "3051627641386529", "4984859173592703"</span>
<span class="co">#&gt; $ data.atualizacao                &lt;chr&gt; "16042020", "20032020"</span></pre></body></html></div>
<p>It is worth remembering that all variable names obtained by <code>get</code> functions are the transcription of the field names in the <code>XML</code> file, the <code><a href="https://rdrr.io/r/base/Arithmetic.html">-</a></code> being replaced with <code>.</code> and the capital letters replaced with lower case letters.</p>
<div id="advisory" class="section level3">
<h3 class="hasAnchor">
<a href="#advisory" class="anchor"></a>Advisory</h3>
<p>Ph.D. Advisory</p>
<div class="sourceCode" id="cb10"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/lapply.html">lapply</a></span>(<span class="no">xmlsLattes</span>, <span class="no">getOrientacoesDoutorado</span>) <span class="kw">%&gt;&gt;%</span>
    <span class="no">bind_rows</span> <span class="kw">%&gt;&gt;%</span>
    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/reexports.html">glimpse</a></span>()
<span class="co">#&gt; Rows: 20</span>
<span class="co">#&gt; Columns: 24</span>
<span class="co">#&gt; $ natureza                    &lt;chr&gt; "Tese de doutorado", "Tese de doutorado",…</span>
<span class="co">#&gt; $ titulo                      &lt;chr&gt; "Redes de Comércio Justo e Solidário: Org…</span>
<span class="co">#&gt; $ ano                         &lt;chr&gt; "2012", "2009", "2009", "2011", "2015", "…</span>
<span class="co">#&gt; $ pais                        &lt;chr&gt; "Brasil", "Brasil", "Brasil", "Brasil", "…</span>
<span class="co">#&gt; $ idioma                      &lt;chr&gt; "Português", "Português", "Português", "P…</span>
<span class="co">#&gt; $ home.page                   &lt;chr&gt; "", "", "", "", "", "", "", "", "", "", "…</span>
<span class="co">#&gt; $ flag.relevancia             &lt;chr&gt; "NAO", "NAO", "NAO", "NAO", "NAO", "NAO",…</span>
<span class="co">#&gt; $ doi                         &lt;chr&gt; "", "", "", "", "", "", "", "", "", "", "…</span>
<span class="co">#&gt; $ titulo.ingles               &lt;chr&gt; "", "", "", "", "", "", "", "", "", "", "…</span>
<span class="co">#&gt; $ tipo.de.orientacao          &lt;chr&gt; "ORIENTADOR_PRINCIPAL", "ORIENTADOR_PRINC…</span>
<span class="co">#&gt; $ nome.do.orientado           &lt;chr&gt; "Isabel Fernandes Pinto Viegas", "Patríci…</span>
<span class="co">#&gt; $ codigo.instituicao          &lt;chr&gt; "001400000995", "007900000004", "00140000…</span>
<span class="co">#&gt; $ nome.da.instituicao         &lt;chr&gt; "Instituto de Economia - Unicamp", "Unive…</span>
<span class="co">#&gt; $ codigo.orgao                &lt;chr&gt; "", "", "", "", "", "", "", "", "", "", "…</span>
<span class="co">#&gt; $ nome.orgao                  &lt;chr&gt; "", "", "", "", "", "", "", "", "", "", "…</span>
<span class="co">#&gt; $ codigo.curso                &lt;chr&gt; "90000012", "33070202", "90000017", "9000…</span>
<span class="co">#&gt; $ nome.do.curso               &lt;chr&gt; "Economia", "Ciência Econômica", "Desenvo…</span>
<span class="co">#&gt; $ flag.bolsa                  &lt;chr&gt; "NAO", "NAO", "NAO", "NAO", "NAO", "NAO",…</span>
<span class="co">#&gt; $ codigo.agencia.financiadora &lt;chr&gt; "", "", "", "", "", "", "", "", "", "0022…</span>
<span class="co">#&gt; $ nome.da.agencia             &lt;chr&gt; "", "", "", "", "", "", "", "", "", "Cons…</span>
<span class="co">#&gt; $ numero.de.paginas           &lt;chr&gt; "", "", "", "", "", "", "229", "", "", ""…</span>
<span class="co">#&gt; $ numero.id.orientado         &lt;chr&gt; "8711022590286430", "7566270566853161", "…</span>
<span class="co">#&gt; $ nome.do.curso.ingles        &lt;chr&gt; "", "Economy", "", "", "", "", "Economy",…</span>
<span class="co">#&gt; $ id                          &lt;chr&gt; "3051627641386529", "3051627641386529", "…</span></pre></body></html></div>
<p>Master Advisory</p>
<div class="sourceCode" id="cb11"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/lapply.html">lapply</a></span>(<span class="no">xmlsLattes</span>, <span class="no">getOrientacoesMestrado</span>) <span class="kw">%&gt;&gt;%</span>
    <span class="no">bind_rows</span> <span class="kw">%&gt;&gt;%</span>
    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/reexports.html">glimpse</a></span>()
<span class="co">#&gt; Rows: 27</span>
<span class="co">#&gt; Columns: 25</span>
<span class="co">#&gt; $ natureza                    &lt;chr&gt; "Dissertação de mestrado", "Dissertação d…</span>
<span class="co">#&gt; $ tipo                        &lt;chr&gt; "ACADEMICO", "ACADEMICO", "ACADEMICO", "A…</span>
<span class="co">#&gt; $ titulo                      &lt;chr&gt; "Focalização de políticas públicas: Teori…</span>
<span class="co">#&gt; $ ano                         &lt;chr&gt; "2004", "2003", "2006", "2005", "2008", "…</span>
<span class="co">#&gt; $ pais                        &lt;chr&gt; "Brasil", "Brasil", "Brasil", "Brasil", "…</span>
<span class="co">#&gt; $ idioma                      &lt;chr&gt; "Português", "Português", "Português", "P…</span>
<span class="co">#&gt; $ home.page                   &lt;chr&gt; "", "", "", "", "", "", "", "", "", "", "…</span>
<span class="co">#&gt; $ flag.relevancia             &lt;chr&gt; "NAO", "NAO", "NAO", "NAO", "NAO", "NAO",…</span>
<span class="co">#&gt; $ doi                         &lt;chr&gt; "", "", "", "", "", "", "", "", "", "", "…</span>
<span class="co">#&gt; $ titulo.ingles               &lt;chr&gt; "", "", "", "", "", "", "", "", "", "", "…</span>
<span class="co">#&gt; $ tipo.de.orientacao          &lt;chr&gt; "ORIENTADOR_PRINCIPAL", "ORIENTADOR_PRINC…</span>
<span class="co">#&gt; $ nome.do.orientado           &lt;chr&gt; "Carolina Junqueira Homem de Mello", "Gil…</span>
<span class="co">#&gt; $ codigo.instituicao          &lt;chr&gt; "007900000004", "007900000004", "00790000…</span>
<span class="co">#&gt; $ nome.da.instituicao         &lt;chr&gt; "Universidade Estadual de Campinas", "Uni…</span>
<span class="co">#&gt; $ codigo.orgao                &lt;chr&gt; "", "", "", "", "", "", "", "", "", "", "…</span>
<span class="co">#&gt; $ nome.orgao                  &lt;chr&gt; "", "", "", "", "", "", "", "", "", "", "…</span>
<span class="co">#&gt; $ codigo.curso                &lt;chr&gt; "33070202", "60008342", "60008342", "9000…</span>
<span class="co">#&gt; $ nome.do.curso               &lt;chr&gt; "Ciência Econômica", "Desenvolvimento Eco…</span>
<span class="co">#&gt; $ flag.bolsa                  &lt;chr&gt; "NAO", "NAO", "NAO", "NAO", "NAO", "NAO",…</span>
<span class="co">#&gt; $ codigo.agencia.financiadora &lt;chr&gt; "", "", "", "", "", "", "", "", "", "", "…</span>
<span class="co">#&gt; $ nome.da.agencia             &lt;chr&gt; "", "", "", "", "", "", "", "", "", "", "…</span>
<span class="co">#&gt; $ numero.de.paginas           &lt;chr&gt; "150", "237", "", "", "", "", "", "", "",…</span>
<span class="co">#&gt; $ numero.id.orientado         &lt;chr&gt; "", "", "8747418319288543", "", "50941418…</span>
<span class="co">#&gt; $ nome.do.curso.ingles        &lt;chr&gt; "Economy", "Economy", "Economy", "", "Eco…</span>
<span class="co">#&gt; $ id                          &lt;chr&gt; "3051627641386529", "3051627641386529", "…</span></pre></body></html></div>
<p>Post Doctorate</p>
<div class="sourceCode" id="cb12"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/lapply.html">lapply</a></span>(<span class="no">xmlsLattes</span>, <span class="no">getOrientacoesPosDoutorado</span>) <span class="kw">%&gt;&gt;%</span>
    <span class="no">bind_rows</span> <span class="kw">%&gt;&gt;%</span>
    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/reexports.html">glimpse</a></span>()
<span class="co">#&gt; Rows: 3</span>
<span class="co">#&gt; Columns: 24</span>
<span class="co">#&gt; $ natureza                    &lt;chr&gt; "Supervisão de pós-doutorado", "Supervisã…</span>
<span class="co">#&gt; $ titulo                      &lt;chr&gt; "", "Avaliação de Impactos Socioeconômico…</span>
<span class="co">#&gt; $ ano                         &lt;chr&gt; "2010", "2011", "2013"</span>
<span class="co">#&gt; $ pais                        &lt;chr&gt; "Brasil", "Brasil", "Brasil"</span>
<span class="co">#&gt; $ idioma                      &lt;chr&gt; "Português", "Português", "Português"</span>
<span class="co">#&gt; $ home.page                   &lt;chr&gt; "", "", ""</span>
<span class="co">#&gt; $ flag.relevancia             &lt;chr&gt; "NAO", "NAO", "NAO"</span>
<span class="co">#&gt; $ doi                         &lt;chr&gt; "", "", ""</span>
<span class="co">#&gt; $ titulo.ingles               &lt;chr&gt; "", "", ""</span>
<span class="co">#&gt; $ tipo.de.orientacao          &lt;chr&gt; "", "", ""</span>
<span class="co">#&gt; $ nome.do.orientado           &lt;chr&gt; "Maria Ester Soares Dal Poz", "Divina Apa…</span>
<span class="co">#&gt; $ codigo.instituicao          &lt;chr&gt; "003100000996", "007900000004", "00790000…</span>
<span class="co">#&gt; $ nome.da.instituicao         &lt;chr&gt; "Instituto de Economia - Unicamp", "Unive…</span>
<span class="co">#&gt; $ codigo.orgao                &lt;chr&gt; "", "", ""</span>
<span class="co">#&gt; $ nome.orgao                  &lt;chr&gt; "", "", ""</span>
<span class="co">#&gt; $ codigo.curso                &lt;chr&gt; "", "", ""</span>
<span class="co">#&gt; $ nome.do.curso               &lt;chr&gt; "", "", ""</span>
<span class="co">#&gt; $ flag.bolsa                  &lt;chr&gt; "NAO", "NAO", "NAO"</span>
<span class="co">#&gt; $ codigo.agencia.financiadora &lt;chr&gt; "", "", ""</span>
<span class="co">#&gt; $ nome.da.agencia             &lt;chr&gt; "", "", ""</span>
<span class="co">#&gt; $ numero.de.paginas           &lt;chr&gt; "", "", ""</span>
<span class="co">#&gt; $ numero.id.orientado         &lt;chr&gt; "", "", ""</span>
<span class="co">#&gt; $ nome.do.curso.ingles        &lt;chr&gt; "", "", ""</span>
<span class="co">#&gt; $ id                          &lt;chr&gt; "4984859173592703", "4984859173592703", "…</span></pre></body></html></div>
<p>Other</p>
<div class="sourceCode" id="cb13"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/lapply.html">lapply</a></span>(<span class="no">xmlsLattes</span>, <span class="no">getOrientacoesOutras</span>) <span class="kw">%&gt;&gt;%</span>
    <span class="no">bind_rows</span> <span class="kw">%&gt;&gt;%</span>
    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/reexports.html">glimpse</a></span>()
<span class="co">#&gt; Rows: 74</span>
<span class="co">#&gt; Columns: 24</span>
<span class="co">#&gt; $ natureza                     &lt;chr&gt; "INICIACAO_CIENTIFICA", "INICIACAO_CIENT…</span>
<span class="co">#&gt; $ tipo                         &lt;chr&gt; "", "", "", "", "", "", "", "", "", "", …</span>
<span class="co">#&gt; $ titulo                       &lt;chr&gt; "Fatores condicionantes aos investimento…</span>
<span class="co">#&gt; $ ano                          &lt;chr&gt; "2000", "1988", "2000", "2003", "2003", …</span>
<span class="co">#&gt; $ pais                         &lt;chr&gt; "Brasil", "Brasil", "Brasil", "Brasil", …</span>
<span class="co">#&gt; $ idioma                       &lt;chr&gt; "Português", "Português", "Português", "…</span>
<span class="co">#&gt; $ home.page                    &lt;chr&gt; "", "", "", "", "", "", "", "", "", "", …</span>
<span class="co">#&gt; $ flag.relevancia              &lt;chr&gt; "NAO", "NAO", "NAO", "NAO", "NAO", "NAO"…</span>
<span class="co">#&gt; $ doi                          &lt;chr&gt; "", "", "", "", "", "", "", "", "", "", …</span>
<span class="co">#&gt; $ titulo.ingles                &lt;chr&gt; "", "", "", "", "", "", "", "", "", "", …</span>
<span class="co">#&gt; $ tipo.ingles                  &lt;chr&gt; "", "", "", "", "", "", "", "", "", "", …</span>
<span class="co">#&gt; $ nome.do.orientado            &lt;chr&gt; "Daniela Silva Pires", "Jeane Shigueko U…</span>
<span class="co">#&gt; $ codigo.instituicao           &lt;chr&gt; "001400000995", "001400000995", "0014000…</span>
<span class="co">#&gt; $ nome.da.instituicao          &lt;chr&gt; "Instituto de Economia - Unicamp", "Inst…</span>
<span class="co">#&gt; $ codigo.curso                 &lt;chr&gt; "90000014", "90000014", "90000014", "900…</span>
<span class="co">#&gt; $ nome.do.curso                &lt;chr&gt; "Economia", "Economia", "Economia", "Eco…</span>
<span class="co">#&gt; $ flag.bolsa                   &lt;chr&gt; "NAO", "NAO", "NAO", "NAO", "NAO", "SIM"…</span>
<span class="co">#&gt; $ codigo.agencia.financiadora  &lt;chr&gt; "", "", "", "", "", "037700000002", "", …</span>
<span class="co">#&gt; $ nome.da.agencia              &lt;chr&gt; "", "", "", "", "", "Fundação de Amparo …</span>
<span class="co">#&gt; $ tipo.de.orientacao.concluida &lt;chr&gt; "CO_ORIENTADOR", "CO_ORIENTADOR", "CO_OR…</span>
<span class="co">#&gt; $ numero.de.paginas            &lt;chr&gt; "0", "0", "0", "0", "0", "", "", "", "",…</span>
<span class="co">#&gt; $ numero.id.orientado          &lt;chr&gt; "", "", "", "", "", "", "", "", "", "", …</span>
<span class="co">#&gt; $ nome.do.curso.ingles         &lt;chr&gt; "", "", "", "", "", "", "", "", "", "", …</span>
<span class="co">#&gt; $ id                           &lt;chr&gt; "3051627641386529", "3051627641386529", …</span></pre></body></html></div>
</div>
</div>
<div id="published-academic-papers" class="section level2">
<h2 class="hasAnchor">
<a href="#published-academic-papers" class="anchor"></a>Published Academic Papers</h2>
<div class="sourceCode" id="cb14"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/lapply.html">lapply</a></span>(<span class="no">xmlsLattes</span>, <span class="no">getArtigosPublicados</span>) <span class="kw">%&gt;&gt;%</span>
    <span class="no">bind_rows</span> <span class="kw">%&gt;&gt;%</span>
    <span class="no">as_tibble</span> <span class="kw">%&gt;&gt;%</span>
    (<span class="no">.</span> <span class="kw">-&gt;</span> <span class="no">pub</span>)

<span class="fu"><a href="https://dplyr.tidyverse.org/reference/reexports.html">glimpse</a></span>(<span class="no">pub</span>)
<span class="co">#&gt; Rows: 183</span>
<span class="co">#&gt; Columns: 23</span>
<span class="co">#&gt; $ natureza                       &lt;chr&gt; "COMPLETO", "COMPLETO", "COMPLETO", "C…</span>
<span class="co">#&gt; $ titulo.do.artigo               &lt;chr&gt; "Notas sobre a produção de alimentos e…</span>
<span class="co">#&gt; $ ano.do.artigo                  &lt;chr&gt; "1988", "1994", "1996", "2000", "2002"…</span>
<span class="co">#&gt; $ pais.de.publicacao             &lt;chr&gt; "", "", "", "", "", "", "", "", "", ""…</span>
<span class="co">#&gt; $ idioma                         &lt;chr&gt; "Português", "Inglês", "Português", "P…</span>
<span class="co">#&gt; $ meio.de.divulgacao             &lt;chr&gt; "IMPRESSO", "IMPRESSO", "IMPRESSO", "I…</span>
<span class="co">#&gt; $ home.page.do.trabalho          &lt;chr&gt; "", "", "", "", "[http://www.economia.…</span>
<span class="co">#&gt; $ flag.relevancia                &lt;chr&gt; "NAO", "NAO", "NAO", "NAO", "NAO", "NA…</span>
<span class="co">#&gt; $ doi                            &lt;chr&gt; "", "", "", "", "", "", "", "", "", ""…</span>
<span class="co">#&gt; $ titulo.do.artigo.ingles        &lt;chr&gt; "", "", "", "", "", "", "", "", "", ""…</span>
<span class="co">#&gt; $ flag.divulgacao.cientifica     &lt;chr&gt; "NAO", "NAO", "NAO", "NAO", "NAO", "NA…</span>
<span class="co">#&gt; $ titulo.do.periodico.ou.revista &lt;chr&gt; "Revista Ensaios Economia", "Revista B…</span>
<span class="co">#&gt; $ issn                           &lt;chr&gt; "", "00347140", "", "14139375", "15171…</span>
<span class="co">#&gt; $ volume                         &lt;chr&gt; "4-5", "48", "1", "9", "4", "2", "1", …</span>
<span class="co">#&gt; $ fasciculo                      &lt;chr&gt; "2-1", "4", "2", "", "2", "1", "1", ""…</span>
<span class="co">#&gt; $ serie                          &lt;chr&gt; "", "", "", "", "2", "1", "1", "", "6"…</span>
<span class="co">#&gt; $ pagina.inicial                 &lt;chr&gt; "111", "1", "14", "145", "305", "3", "…</span>
<span class="co">#&gt; $ pagina.final                   &lt;chr&gt; "133", "20", "22", "153", "313", "47",…</span>
<span class="co">#&gt; $ local.de.publicacao            &lt;chr&gt; "Belo Horizonte/Minas Gerais", "Rio de…</span>
<span class="co">#&gt; $ autores                        &lt;chr&gt; "Antonio Marcio Buainain", "Antonio Ma…</span>
<span class="co">#&gt; $ autores.citacoes               &lt;chr&gt; "BUAINAIN, Antonio Marcio;Buainain, An…</span>
<span class="co">#&gt; $ autores.id                     &lt;chr&gt; "3051627641386529", "3051627641386529;…</span>
<span class="co">#&gt; $ id                             &lt;chr&gt; "3051627641386529", "3051627641386529"…</span></pre></body></html></div>
</div>
<div id="normalize-functions" class="section level2">
<h2 class="hasAnchor">
<a href="#normalize-functions" class="anchor"></a>Normalize functions</h2>
<p>The information obtained from the Lattes curriculum is not standardized, so each user inserts the information in certain predefined fields. The problem with such an approach is the errors when inserting the data, here are some examples: - two co-authors of an article, each one feeds his or her Lattes curriculum. However, each one can insert different ISSN codes for the same scientific journal, which can change the journal-title, one title as <code>(Print)</code> and the other as <code>(Online)</code>. - the two authors may insert different years for the same article. - the same two authors may mistype the journal-title.</p>
<p>The functions <code>normalizeByDoi</code>, <code>normalizeByJournal</code>, and <code>normalizeByYear</code> correct most problems related to data entry errors.</p>
<p><code>normalizeByDoi</code> groups all articles together as the same DOI code and uses the most frequent information in the title, year, and journal’s name.</p>
<div class="sourceCode" id="cb15"><html><body><pre class="r"><span class="co"># use explict arguments</span>
<span class="fu"><a href="../reference/normalizeByDoi.html">normalizeByDoi</a></span>( <span class="no">pub</span>, <span class="kw">doi</span><span class="kw">=</span><span class="st">'doi'</span>, <span class="kw">year</span><span class="kw">=</span><span class="st">'ano.do.artigo'</span>, <span class="kw">issn</span><span class="kw">=</span><span class="st">'issn'</span>, <span class="kw">paperTitle</span><span class="kw">=</span><span class="st">'titulo.do.artigo'</span>, <span class="kw">journalName</span><span class="kw">=</span><span class="st">'titulo.do.periodico.ou.revista'</span>)
<span class="co">#&gt; # A tibble: 183 x 28</span>
<span class="co">#&gt;    natureza titulo.do.artig… ano.do.artigo_o… pais.de.publica… idioma</span>
<span class="co">#&gt;    &lt;chr&gt;    &lt;chr&gt;            &lt;chr&gt;            &lt;chr&gt;            &lt;chr&gt; </span>
<span class="co">#&gt;  1 COMPLETO Notas sobre a p… 1988             ""               Portu…</span>
<span class="co">#&gt;  2 COMPLETO Structural adju… 1994             ""               Inglês</span>
<span class="co">#&gt;  3 COMPLETO Agribusiness e … 1996             ""               Portu…</span>
<span class="co">#&gt;  4 COMPLETO Propriedade int… 2000             ""               Portu…</span>
<span class="co">#&gt;  5 COMPLETO Comentários sob… 2002             ""               Portu…</span>
<span class="co">#&gt;  6 COMPLETO Does community-… 2001             ""               Inglês</span>
<span class="co">#&gt;  7 COMPLETO In search of me… 2004             ""               Portu…</span>
<span class="co">#&gt;  8 COMPLETO Desafios dos pr… 2003             ""               Portu…</span>
<span class="co">#&gt;  9 COMPLETO Por que reforma… 2003             ""               Portu…</span>
<span class="co">#&gt; 10 COMPLETO Software livre … 2004             ""               Portu…</span>
<span class="co">#&gt; # … with 173 more rows, and 23 more variables: meio.de.divulgacao &lt;chr&gt;,</span>
<span class="co">#&gt; #   home.page.do.trabalho &lt;chr&gt;, flag.relevancia &lt;chr&gt;, doi.x &lt;chr&gt;,</span>
<span class="co">#&gt; #   titulo.do.artigo.ingles &lt;chr&gt;, flag.divulgacao.cientifica &lt;chr&gt;,</span>
<span class="co">#&gt; #   titulo.do.periodico.ou.revista_old &lt;chr&gt;, issn_old &lt;chr&gt;, volume &lt;chr&gt;,</span>
<span class="co">#&gt; #   fasciculo &lt;chr&gt;, serie &lt;chr&gt;, pagina.inicial &lt;chr&gt;, pagina.final &lt;chr&gt;,</span>
<span class="co">#&gt; #   local.de.publicacao &lt;chr&gt;, autores &lt;chr&gt;, autores.citacoes &lt;chr&gt;,</span>
<span class="co">#&gt; #   autores.id &lt;chr&gt;, id &lt;chr&gt;, doi.y &lt;chr&gt;,</span>
<span class="co">#&gt; #   titulo.do.periodico.ou.revista &lt;chr&gt;, issn &lt;chr&gt;, ano.do.artigo &lt;chr&gt;,</span>
<span class="co">#&gt; #   titulo.do.artigo &lt;chr&gt;</span>

<span class="co"># use de defult data frame from getArtigosPublicados</span>
<span class="fu"><a href="../reference/normalizeByDoi.html">normalizeByDoi</a></span>(<span class="no">pub</span>)
<span class="co">#&gt; # A tibble: 183 x 28</span>
<span class="co">#&gt;    natureza titulo.do.artig… ano.do.artigo_o… pais.de.publica… idioma</span>
<span class="co">#&gt;    &lt;chr&gt;    &lt;chr&gt;            &lt;chr&gt;            &lt;chr&gt;            &lt;chr&gt; </span>
<span class="co">#&gt;  1 COMPLETO Notas sobre a p… 1988             ""               Portu…</span>
<span class="co">#&gt;  2 COMPLETO Structural adju… 1994             ""               Inglês</span>
<span class="co">#&gt;  3 COMPLETO Agribusiness e … 1996             ""               Portu…</span>
<span class="co">#&gt;  4 COMPLETO Propriedade int… 2000             ""               Portu…</span>
<span class="co">#&gt;  5 COMPLETO Comentários sob… 2002             ""               Portu…</span>
<span class="co">#&gt;  6 COMPLETO Does community-… 2001             ""               Inglês</span>
<span class="co">#&gt;  7 COMPLETO In search of me… 2004             ""               Portu…</span>
<span class="co">#&gt;  8 COMPLETO Desafios dos pr… 2003             ""               Portu…</span>
<span class="co">#&gt;  9 COMPLETO Por que reforma… 2003             ""               Portu…</span>
<span class="co">#&gt; 10 COMPLETO Software livre … 2004             ""               Portu…</span>
<span class="co">#&gt; # … with 173 more rows, and 23 more variables: meio.de.divulgacao &lt;chr&gt;,</span>
<span class="co">#&gt; #   home.page.do.trabalho &lt;chr&gt;, flag.relevancia &lt;chr&gt;, doi.x &lt;chr&gt;,</span>
<span class="co">#&gt; #   titulo.do.artigo.ingles &lt;chr&gt;, flag.divulgacao.cientifica &lt;chr&gt;,</span>
<span class="co">#&gt; #   titulo.do.periodico.ou.revista_old &lt;chr&gt;, issn_old &lt;chr&gt;, volume &lt;chr&gt;,</span>
<span class="co">#&gt; #   fasciculo &lt;chr&gt;, serie &lt;chr&gt;, pagina.inicial &lt;chr&gt;, pagina.final &lt;chr&gt;,</span>
<span class="co">#&gt; #   local.de.publicacao &lt;chr&gt;, autores &lt;chr&gt;, autores.citacoes &lt;chr&gt;,</span>
<span class="co">#&gt; #   autores.id &lt;chr&gt;, id &lt;chr&gt;, doi.y &lt;chr&gt;,</span>
<span class="co">#&gt; #   titulo.do.periodico.ou.revista &lt;chr&gt;, issn &lt;chr&gt;, ano.do.artigo &lt;chr&gt;,</span>
<span class="co">#&gt; #   titulo.do.artigo &lt;chr&gt;</span></pre></body></html></div>
<p>Because not every article is DOI-coded, we can still normalize the journal name and ISSN with <code>normalizeByJournal</code>. The result is two new columns added, <code>issn_old</code> and <code>titulo.do.periodico.ou.revista_old</code> that allow us to analyze the results of the substitutions. The more curricula you analyze, the more useful the <code>normalize</code> functions are.</p>
<div class="sourceCode" id="cb16"><html><body><pre class="r"><span class="co"># use explict arguments</span>
<span class="no">nj</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/normalizeJournals.html">normalizeJournals</a></span>(<span class="no">pub</span>, <span class="kw">issn</span><span class="kw">=</span><span class="st">'issn'</span>, <span class="kw">journalName</span><span class="kw">=</span><span class="st">'titulo.do.periodico.ou.revista'</span>)

<span class="co"># use de defult data frame from getArtigosPublicados</span>
<span class="no">nj</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/normalizeJournals.html">normalizeJournals</a></span>(<span class="no">pub</span>)

<span class="no">nj</span> <span class="kw">%&gt;&gt;%</span>
    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span>(<span class="no">issn_old</span>, <span class="no">issn</span>, <span class="no">titulo.do.periodico.ou.revista_old</span>, <span class="no">titulo.do.periodico.ou.revista</span>) <span class="kw">%&gt;&gt;%</span>
    <span class="no">tail</span>
<span class="co">#&gt; # A tibble: 6 x 4</span>
<span class="co">#&gt;   issn_old issn    titulo.do.periodico.ou.revist… titulo.do.periodico.ou.revista</span>
<span class="co">#&gt;   &lt;chr&gt;    &lt;chr&gt;   &lt;chr&gt;                          &lt;chr&gt;                         </span>
<span class="co">#&gt; 1 23587024 151950… REVISTA DE ESTUDOS SOCIAIS     REVISTA DE ESTUDOS SOCIAIS    </span>
<span class="co">#&gt; 2 24112933 241129… INTERNATIONAL JOURNAL FOR INN… INTERNATIONAL JOURNAL FOR INN…</span>
<span class="co">#&gt; 3 25265539 167916… REVISTA DE ECONOMIA E AGRONEG… REVISTA DE ECONOMIA E AGRONEG…</span>
<span class="co">#&gt; 4 32345234 323452… LIINC em Revista               LIINC em Revista              </span>
<span class="co">#&gt; 5 7891678X 789167… Asset Markets and Acess        Asset Markets and Acess       </span>
<span class="co">#&gt; 6 7891678X 789167… Asset Markets and Acess        Asset Markets and Acess</span></pre></body></html></div>
<p>Finally, if two papers have the same title and were published in the same journal, the year can be normalized with:</p>
<div class="sourceCode" id="cb17"><html><body><pre class="r">
<span class="co"># use explict arguments</span>
<span class="no">ny</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/normalizeYears.html">normalizeYears</a></span>(<span class="no">pub</span>, <span class="kw">year2normalize</span><span class="kw">=</span><span class="st">'ano.do.artigo'</span>,<span class="kw">issn</span><span class="kw">=</span><span class="st">'issn'</span>,<span class="kw">journalName</span><span class="kw">=</span><span class="st">'titulo.do.periodico.ou.revista'</span>,<span class="kw">paperTitle</span><span class="kw">=</span><span class="st">'titulo.do.artigo'</span>)

<span class="co"># use de defult variables names from getArtigosPublicados</span>
<span class="no">ny</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/normalizeYears.html">normalizeYears</a></span>(<span class="no">pub</span>)

<span class="no">ny</span> <span class="kw">%&gt;&gt;%</span>
    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span>(<span class="no">ano_old</span>, <span class="no">ano</span>, <span class="no">issn</span>, <span class="no">titulo.do.periodico.ou.revista</span>, <span class="no">titulo.do.artigo</span>) <span class="kw">%&gt;&gt;%</span>
    <span class="no">head</span>
<span class="co">#&gt; # A tibble: 6 x 5</span>
<span class="co">#&gt;   ano_old ano   issn    titulo.do.periodico.o… titulo.do.artigo                 </span>
<span class="co">#&gt;   &lt;chr&gt;   &lt;chr&gt; &lt;chr&gt;   &lt;chr&gt;                  &lt;chr&gt;                            </span>
<span class="co">#&gt; 1 1984    1984  ""      Revista Brasileira de… O melhoramento vegetal e os impa…</span>
<span class="co">#&gt; 2 1986    1986  ""      Revista da ANPEC       O programa de estabilização e a …</span>
<span class="co">#&gt; 3 1986    1986  "01041… Cadernos de Ciência &amp;… O desenvolvimento das biotecnolo…</span>
<span class="co">#&gt; 4 1988    1988  ""      Revista Ensaios Econo… Notas sobre a produção de alimen…</span>
<span class="co">#&gt; 5 1988    1988  ""      Temas Rurais           Estrutura agrária e irrigação no…</span>
<span class="co">#&gt; 6 1988    1988  "01032… Revista de Economia e… O desenvolvimento da biotecnolog…</span></pre></body></html></div>
<p>To type less, we can do:</p>
<div class="sourceCode" id="cb18"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/lapply.html">lapply</a></span>(<span class="no">xmlsLattes</span>, <span class="no">getArtigosPublicados</span>) <span class="kw">%&gt;&gt;%</span>
    <span class="no">bind_rows</span> <span class="kw">%&gt;&gt;%</span>
    <span class="no">as_tibble</span> <span class="kw">%&gt;&gt;%</span>
    <span class="no">normalizeByDoi</span> <span class="kw">%&gt;&gt;%</span>
    <span class="no">normalizeJournals</span> <span class="kw">%&gt;&gt;%</span>
    <span class="no">normalizeYears</span> <span class="kw">%&gt;&gt;%</span>
    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span>(<span class="no">titulo.do.artigo</span>,<span class="no">ano.do.artigo</span>,<span class="no">issn</span>,<span class="no">titulo.do.periodico.ou.revista</span>,<span class="no">id</span>) <span class="kw">%&gt;&gt;%</span>
    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/slice.html">slice</a></span>(<span class="fl">1</span>:<span class="fl">10</span>)
<span class="co">#&gt; # A tibble: 10 x 5</span>
<span class="co">#&gt;    titulo.do.artigo             ano.do.artigo issn  titulo.do.periodico… id     </span>
<span class="co">#&gt;    &lt;chr&gt;                        &lt;chr&gt;         &lt;chr&gt; &lt;chr&gt;                &lt;chr&gt;  </span>
<span class="co">#&gt;  1 O melhoramento vegetal e os… 1984          noIS… Revista Brasileira … 498485…</span>
<span class="co">#&gt;  2 O desenvolvimento das biote… 1986          0104… Cadernos de Ciência… 498485…</span>
<span class="co">#&gt;  3 O programa de estabilização… 1986          noIS… Revista da ANPEC     305162…</span>
<span class="co">#&gt;  4 O desenvolvimento da biotec… 1988          0103… Revista de Economia… 498485…</span>
<span class="co">#&gt;  5 Biotecnologia: conceituação… 1988          0103… Texto para Discussã… 498485…</span>
<span class="co">#&gt;  6 Notas sobre a produção de a… 1988          noIS… Revista Ensaios Eco… 305162…</span>
<span class="co">#&gt;  7 Estrutura agrária e irrigaç… 1988          noIS… Temas Rurais         305162…</span>
<span class="co">#&gt;  8 Estrutura agrária e irrigaç… 1988          noIS… Revista de Temas Ru… 498485…</span>
<span class="co">#&gt;  9 Estrutura Agrária e Irrigaç… 1989          0100… Revista Econômica d… 305162…</span>
<span class="co">#&gt; 10 O Plano Nacional de Defensi… 1990          0044… Agricultura em São … 498485…</span></pre></body></html></div>
</div>
<div id="merge-data" class="section level2">
<h2 class="hasAnchor">
<a href="#merge-data" class="anchor"></a>Merge data</h2>
<p>To join the data from different tables the key is the variable <code>id</code>, which is a unique 16 digit code.</p>
<div class="sourceCode" id="cb19"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/lapply.html">lapply</a></span>(<span class="no">xmlsLattes</span>, <span class="no">getArtigosPublicados</span>) <span class="kw">%&gt;&gt;%</span>
    <span class="no">bind_rows</span> <span class="kw">%&gt;&gt;%</span>
    <span class="no">as_tibble</span> <span class="kw">%&gt;&gt;%</span>
    <span class="no">normalizeByDoi</span> <span class="kw">%&gt;&gt;%</span>
    <span class="no">normalizeJournals</span> <span class="kw">%&gt;&gt;%</span>
    <span class="no">normalizeYears</span> <span class="kw">%&gt;&gt;%</span>
    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span>(<span class="no">titulo.do.artigo</span>,<span class="no">ano.do.artigo</span>,<span class="no">issn</span>,<span class="no">titulo.do.periodico.ou.revista</span>,<span class="no">id</span>) <span class="kw">%&gt;&gt;%</span>
    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/join.html">left_join</a></span>( <span class="fu"><a href="https://rdrr.io/r/base/lapply.html">lapply</a></span>(<span class="no">xmlsLattes</span>, <span class="no">getDadosGerais</span>) <span class="kw">%&gt;&gt;%</span> <span class="no">bind_rows</span> <span class="kw">%&gt;&gt;%</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span>(<span class="no">id</span>,<span class="no">nome.completo</span>,<span class="no">pais.de.nascimento</span>)) <span class="kw">%&gt;&gt;%</span>
    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/slice.html">slice</a></span>(<span class="fl">1</span>:<span class="fl">10</span>)
<span class="co">#&gt; # A tibble: 10 x 7</span>
<span class="co">#&gt;    titulo.do.artigo ano.do.artigo issn  titulo.do.perio… id    nome.completo</span>
<span class="co">#&gt;    &lt;chr&gt;            &lt;chr&gt;         &lt;chr&gt; &lt;chr&gt;            &lt;chr&gt; &lt;chr&gt;        </span>
<span class="co">#&gt;  1 O melhoramento … 1984          noIS… Revista Brasile… 4984… Jose Maria F…</span>
<span class="co">#&gt;  2 O desenvolvimen… 1986          0104… Cadernos de Ciê… 4984… Jose Maria F…</span>
<span class="co">#&gt;  3 O programa de e… 1986          noIS… Revista da ANPEC 3051… Antonio Marc…</span>
<span class="co">#&gt;  4 O desenvolvimen… 1988          0103… Revista de Econ… 4984… Jose Maria F…</span>
<span class="co">#&gt;  5 Biotecnologia: … 1988          0103… Texto para Disc… 4984… Jose Maria F…</span>
<span class="co">#&gt;  6 Notas sobre a p… 1988          noIS… Revista Ensaios… 3051… Antonio Marc…</span>
<span class="co">#&gt;  7 Estrutura agrár… 1988          noIS… Temas Rurais     3051… Antonio Marc…</span>
<span class="co">#&gt;  8 Estrutura agrár… 1988          noIS… Revista de Tema… 4984… Jose Maria F…</span>
<span class="co">#&gt;  9 Estrutura Agrár… 1989          0100… Revista Econômi… 3051… Antonio Marc…</span>
<span class="co">#&gt; 10 O Plano Naciona… 1990          0044… Agricultura em … 4984… Jose Maria F…</span>
<span class="co">#&gt; # … with 1 more variable: pais.de.nascimento &lt;chr&gt;</span></pre></body></html></div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Roney Fraga Souza, Winicius Sabino.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
